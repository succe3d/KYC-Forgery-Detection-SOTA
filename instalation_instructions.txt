# 1. Create new environment
conda create -n sotaenv python=3.11 -y

# 2. Activate environment
conda activate sotaenv

# 3. Install PyTorch with CUDA 12.1 (Required for modern GPUs & SOTA speed)
pip install torch==2.9.0 torchvision==0.24.0 torchaudio==2.9.0 --index-url https://download.pytorch.org/whl/cu130

# 4. Install SOTA Face Analysis libraries
# insightface: The 2025 standard for face recognition
# onnxruntime-gpu: Required to accelerate InsightFace
pip install insightface onnxruntime-gpu

# 5. Install Transformers & Accelerate (Clean versions for Donut/Florence-2)
# Version pinning prevents the "404 chat template" error we saw earlier
pip install transformers==4.37.2 accelerate==0.27.2 datasets

# 6. Install FAISS-GPU (Vector Search)
# Using conda-forge is safer for FAISS on Windows
conda install -c conda-forge faiss-gpu -y

# 7. Install Data & UI utilities
pip install opencv-python-headless pillow matplotlib scikit-learn tqdm tk

# 8. Connect this environment to Jupyter
pip install ipykernel
python -m ipykernel install --user --name=sotaenv --display-name "SOTA KYC"

pip install "numpy<2" --force-reinstall

pip install sentencepiece protobuf


